<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>Technical Blag by LANL Data Science At Scale</title><link rel="stylesheet" href="stylesheets/styles.css"><link rel="stylesheet" href="stylesheets/pygment_trac.css"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--if lt IE 9script(src='//html5shiv.googlecode.com/svn/trunk/html5.js')--></head><body><div class="wrapper"><header><h1>Los Alamos National Lab Data Science at Scale Team</h1><p class="view"><a href="http://datascience.lanl.gov">Data Science at Scale Website </a></p><p class="view"><a href="https://github.com/DataScienceAtScale">The Project on GitHub </a></p><p class="view"><small><h3 id="welcome-to-the-data-science-at-scale-blog">Welcome to the Data Science at Scale Blog</h3>
<p>Extremely large datasets and extremely high-rate data streams are becoming increasingly common due to the operation of Moore&apos;s Law as applied to sensors, embedded computing, and traditional high-performance computing. Interactive analysis of these datasets is widely recognized as a new frontier at the interface of information science, mathematics, computer science, and computer engineering. Text searching on the web is an obvious example of a large dataset analysis problem; however, scientific and national security applications require far more sophisticated interactions with data than text searches. These applications represent the &apos;data to knowledge&apos; challenge posed by extreme-scale datasets in, for example, astrophysics, biology, climate modeling, cyber security, earth sciences, energy security, materials science, nuclear and particle physics, smart networks, and situational awareness. In order to contribute effectively to Los Alamos National Lab&apos;s overall national security mission, we need a strong capability in Data Science at Scale. This capability rests on robust and integrated efforts in data management and infrastructure, visualization and analysis, high-performance computational statistics, machine learning, uncertainty quantification, and information exploitation. The Data Science at Scale capability provides tools capable of making quantifiably accurate predictions for complex problems with the efficient use and collection of data and computing resources.</p>
</small></p><p class="view"><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p></header><section><h3>Updated Oct 23rd OSU Tutorial</h3><a name="Updated-Oct-23rd-OSU-Tutorial" href="#Updated-Oct-23rd-OSU-Tutorial" class="anchor"><span class="octicon octicon-link"></span></a><small>October 23, 2014 -- <a href="https://github.com/jonwoodring">Jon Woodring</a><br></small><p><p>I&#39;ve updated the tutorial that I gave at OSU on beginner Python
and using numpy and matplotlib.</p>
<p>You can find the updated version on 
<a href="https://github.com/DataScienceAtScale/python-at-osu-oct-10">github</a>.</p>
<p>Thanks to 
<a href="http://web.cse.ohio-state.edu/~hwshen/hwshen/Welcome.html">Han-Wei Shen</a>, 
his <a href="http://web.cse.ohio-state.edu/~hwshen/hwshen/Research.html">students</a>, and
<a href="http://www.mcs.anl.gov/~tpeterka/">Tom Peterka</a> for attending, 
and helping me to prepare for the
<a href="http://ieeevis.org/">Visualization</a> tutorial coming up in a few weeks.</p>
</p><a href="#Updated-Oct-23rd-OSU-Tutorial"><small> 
Link to this post</small></a><br><h3>Example SQL Queries (Part II)</h3><a name="Example-SQL-Queries-(Part-II)" href="#Example-SQL-Queries-(Part-II)" class="anchor"><span class="octicon octicon-link"></span></a><small>October 23, 2014 -- <a href="https://github.com/jonwoodring">Jon Woodring</a><br></small><p><p>After starting to implement some of these 
<a href="#Example-SQL-Queries-on-HPC-Simulation-Data">queries</a>, I started
running into the problem that 
<a href="http://mpas-dev.github.io/ocean/ocean.html">MPAS</a> doesn&#39;t have a regular
grid. In particular, it has a Voronoi tesselated grid, which means
when you do integrations (or averages), this becomes a problem:
<code>select avg(u), avg(v), y, z group by x</code>.  </p>
<p>How do you group
by <em>x</em>, when every <em>x</em> is unique? In particular, the <em>xs</em> are floating point
data and don&#39;t line up exactly. <em>Group bys</em> are going to difficult, 
and we have seen this before in our experiments with 
<a href="http://link.springer.com/article/10.1007/s10586-014-0360-5">bitmap indices on floating point data</a>.</p>
<p>A first solution looks like we need to quantize the values we want to group by.
This is what we do in the bitmap indicies, as floating point values
get quantized.
A better solution likely involes doing an actual integration with a kernel of
some stencil size with discrete <em>x</em> values, and searching for the cells
that sit under the kernel. </p>
<p>Though, that second method doesn&#39;t necessarily work well in a SQL
language. For now, lets just go with the first solution, because it
fits a SQL query better.</p>
</p><a href="#Example-SQL-Queries-(Part-II)"><small> 
Link to this post</small></a><br><h3>Using Python for Visualization and Analysis Tutorials 2014</h3><a name="Using-Python-for-Visualization-and-Analysis-Tutorials-2014" href="#Using-Python-for-Visualization-and-Analysis-Tutorials-2014" class="anchor"><span class="octicon octicon-link"></span></a><small>October 3, 2014 -- <a href="https://github.com/jonwoodring">Jon Woodring</a><br></small><p><p>I love Python. I&#39;ve basically done all of my research in Python since
2001 or so, and recently I&#39;m becoming a Python evangelist (though,
Python does have its drawbacks, like I wish it had pattern matching,
immutable data so you could compile it, type inference for the same
reason, better syntax for partial functions, etc... But I digress.)</p>
<p>Keeping with my recent evangelism,
I&#39;ll be at Ohio State, IEEE Vis 2014, and SIAM CSE 2015 this year teaching
Python for Visualization and Analysis tutorials with colleagues of mine at
Continuum Analytics, Kitware, and Indiana University.</p>
<ul>
<li>The Ohio State University, <em>October 10, 2014</em>, Columbus, OH</li>
<li><a href="http://ieeevis.org">IEEE VisWeek 2014</a>, <em>November 9-14, 2014</em>, Paris, France</li>
<li><a href="http://www.siam.org/meetings/cse15/">SIAM CSE 2015</a>, <em>March 14-18, 2014</em>, Salt Lake City, Utah</li>
</ul>
<p>Hope to see you there!</p>
</p><a href="#Using-Python-for-Visualization-and-Analysis-Tutorials-2014"><small> 
Link to this post</small></a><br><h3>Example SQL Queries on HPC Simulation Data</h3><a name="Example-SQL-Queries-on-HPC-Simulation-Data" href="#Example-SQL-Queries-on-HPC-Simulation-Data" class="anchor"><span class="octicon octicon-link"></span></a><small>October 3, 2014 -- <a href="https://github.com/jonwoodring">Jon Woodring</a><br></small><p><p>Recently, while working with some databases, 
I was trying to come up with some examples
of what a scientific workload might look like in a database.</p>
<p>This is because our typical workflow uses things other than
databases, like flat binary
files (hopefully column-major, though sometimes our scientists
do row-major), HDF5, NetCDF, VTK XML, etc. In rare circumstances,
they sometimes come in a text file. </p>
<p>Imagine the data management
nightmare going from: supercomputer, to parallel file system, to 
tape drives, and back again to do any analysis. It&#39;s slow, cumbersome
and a pain to manage a large-scale scientific data set in this way,
because I/O is always the bottleneck nowadays and it wastes
scientist time to move the data around from all the different
storage systems.  So a lot of my interest is trying to bring SQL 
(and the different implementations of it) as a DSL (domain specific language)
to subset, slice-and-dice, and query HPC data.</p>
<p>These are just some example queries I might imagine on
an MPAS-O ocean dataset, if they were stored in a SQL-like storage 
system, off the top of my head:</p>
<ul>
<li><code>select avg(temp), avg(salt) group by month</code></li>
<li><code>select avg(u), avg(v), y, z group by x</code></li>
<li><code>select avg(u) * avg(u) + avg(v) * avg(v), y, z group by x</code></li>
<li><code>select avg(temp), avg(salt) where month = 4</code></li>
<li><code>select avg(temp), avg(salt) where month = 4 and z = 0</code></li>
<li><code>select x, y, avg(u), avg(v), avg(salt), avg(temp) where month = 4 and z = 0 and x &gt; 1300 and x &lt; 1500 and y &gt; 1300 and y &lt; 1500 group by x, y</code></li>
<li><code>select x, y, salt where temp &gt; 20 and z = 0</code></li>
<li><code>select x, y, salt where temp &lt; 0 and z = 0</code></li>
<li><code>select x, y, salt where temp &lt; 0 and z &gt; 0</code></li>
<li><code>select avg(salt), avg(temp) group by week</code></li>
<li><code>select x, y, salt, temp where sqrt(u*u + v*v) &gt; 50 and z = 0</code></li>
</ul>
</p><a href="#Example-SQL-Queries-on-HPC-Simulation-Data"><small> 
Link to this post</small></a><br><h3>Contrasting Currents: Highlighting Ocean Structures with Nested Colormaps</h3><a name="Contrasting-Currents:-Highlighting-Ocean-Structures-with-Nested-Colormaps" href="#Contrasting-Currents:-Highlighting-Ocean-Structures-with-Nested-Colormaps" class="anchor"><span class="octicon octicon-link"></span></a><small>October 2, 2014 -- <a href="https://github.com/cvcanada">Curt Canada</a><br></small><p><p>This is a visualization of ocean temperature, in degrees Celsius, from the MPAS-Ocean Model, developed at Los Alamos National Laboratory. The goal of the visualization is to enable detailed views of the eddies and currents in specific regions of the model. The color map developed allows for a detailed rendering of specific data ranges. The image of the North Atlantic shows that the Gulf Stream departs the US coast at Cape Hatteras, NC, and turns left just south of Greenland, a feature known as the &apos;Northwest Corner&apos;. This pathway compares well with observations, and is highlighted by a narrow range of greens on the colormap. In the western Pacific, the Kuroshio current is a narrow stream of warm water that sheds eddies as it departs eastward from Japan. The colormap was chosen to use light yellow at 22C at the center of the jet, highlighting cooler eddies to the north in blue and warmer eddies to the south in green. It was produced by Francesca G. Samsel of the Center for Agile Technologies at the University of Texas at Austin and Mark Petersen of the Climate, Ocean, Sea Ice Modeling Team at the Los Alamos National Laboratory.</p>
<p><img src="img/ContrastingCurrent.png" alt=""></p>
<p><a href="img/ContrastingCurrentLarge.jpeg">Larger images.</a></p>
</p><a href="#Contrasting-Currents:-Highlighting-Ocean-Structures-with-Nested-Colormaps"><small> 
Link to this post</small></a><br></section></div><script src="javascripts/scale.fix.js"></script></body></html>